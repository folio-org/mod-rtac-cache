server:
  port: 8081
spring:
  application:
    name: mod-rtac-cache
  threads:
    virtual:
      enabled: true
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  liquibase:
    enabled: true
    change-log: classpath:db/changelog/changelog-master.xml
  jpa:
    show-sql: true
    hibernate:
      ddl-auto: none
  kafka:
    consumer:
      auto-offset-reset: earliest
      group-id: test-group
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: '*'
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer

folio:
  environment: test
  okapi-url: http://localhost:9130
  system-user:
    enabled: false
    username: test-user
    password: test-password
  tenant:
    validation:
      enabled: false
  kafka:
    listener:
      holdings-record:
        concurrency: 1
        topic-pattern: ${folio.environment}\.ALL\.inventory\.holdings-record
        group-id: ${folio.environment}-mod-rtac-cache-holdings-record-group
      item:
        concurrency: 1
        topic-pattern: ${folio.environment}\.ALL\.inventory\.item
        group-id: ${folio.environment}-mod-rtac-cache-item-group
      location:
        concurrency: 1
        topic-pattern: ${folio.environment}\.ALL\.inventory\.location
        group-id: ${folio.environment}-mod-rtac-cache-location-group
      library:
        concurrency: 1
        topic-pattern: ${folio.environment}\.ALL\.inventory\.library
        group-id: ${folio.environment}-mod-rtac-cache-library-group
      bound-with:
        concurrency: 1
        topic-pattern: ${folio.environment}\.ALL\.inventory\.bound-with
        group-id: ${folio.environment}-mod-rtac-cache-bound-with-group
      loan:
        concurrency: 1
        topic-pattern: ${folio.environment}\.ALL\.circulation\.loan
        group-id: ${folio.environment}-mod-rtac-cache-loan-group
      request:
        concurrency: 1
        topic-pattern: ${folio.environment}\.ALL\.circulation\.request
        group-id: ${folio.environment}-mod-rtac-cache-request-group
      piece:
        concurrency: 1
        topic-pattern: ${folio.environment}\.Default\.ALL\.ACQ_PIECE_CHANGED
        group-id: ${folio.environment}-mod-rtac-cache-piece-group
management:
  endpoints:
    web:
      exposure:
        include: health,info
logging:
  level:
    org.springframework.web: debug
    liquibase: info

rtac:
  cache:
    invalidation:
      cron: "0 0 2 * * ?"
      retention-days: 7